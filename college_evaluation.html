<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>院校评价管理系统</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-custom: #1e40af;
            --primary-light: #e0e7ff;
        }
        .bg-primary-custom {
            background-color: var(--primary-custom);
        }
        .text-primary-custom {
            color: var(--primary-custom);
        }
        .bg-primary-light {
            background-color: var(--primary-light);
        }
        .nav-item {
            cursor: pointer;
            padding: 10px 15px;
            border-radius: 4px;
            transition: all 0.3s;
        }
        .nav-item.active {
            background-color: var(--primary-custom);
            color: white;
        }
        .star-rating {
            color: #ddd;
            cursor: pointer;
        }
        .star-rating .fas {
            color: #ffc107;
        }
        .progress-bar {
            background-color: var(--primary-custom);
        }
        
        /* AI助手样式 */
        .ai-assistant-container {
            position: fixed;
            right: 20px;
            bottom: 20px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            z-index: 1000;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        
        .ai-assistant-hidden {
            transform: translateY(100%);
            opacity: 0;
        }
        
        .ai-assistant-header {
            background: linear-gradient(135deg, var(--primary-custom), #3b82f6);
            color: white;
            padding: 15px;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .ai-assistant-body {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f8fafc;
        }
        
        .ai-message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: 10px;
            max-width: 85%;
            word-wrap: break-word;
        }
        
        .ai-message.user {
            background: var(--primary-custom);
            color: white;
            margin-left: auto;
        }
        
        .ai-message.assistant {
            background: white;
            border: 1px solid #e5e7eb;
        }
        
        .ai-input-area {
            padding: 15px;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 10px;
        }
        
        .ai-input {
            flex: 1;
            border: 1px solid #d1d5db;
            border-radius: 20px;
            padding: 8px 15px;
            outline: none;
        }
        
        .ai-send-btn {
            background: var(--primary-custom);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .ai-toggle-btn {
            position: fixed;
            right: 20px;
            bottom: 20px;
            width: 60px;
            height: 60px;
            background: var(--primary-custom);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 999;
        }
        
        .loading-dots::after {
            content: '';
            animation: dots 1.5s steps(5, end) infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60% { content: '...'; }
            90%, 100% { content: ''; }
        }
        
        .analysis-panel {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-left: 4px solid var(--primary-custom);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .insight-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .college-stats {
            background: linear-gradient(135deg, #ecfdf5, #10b981);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            color: #065f46;
        }
        
        .recommendation-card {
            background: linear-gradient(135deg, #fef3c7, #f59e0b);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            color: #92400e;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- 侧边栏导航 -->
            <div class="col-md-3 bg-light min-vh-100 p-4">
                <h1 class="text-center text-primary-custom mb-6">院校评价管理系统</h1>
                <div class="nav flex-column">
                    <div class="nav-item active mb-2" data-target="student-evaluation">学生评价</div>
                    <div class="nav-item mb-2" data-target="admin-evaluation">管理员评价</div>
                    <div class="nav-item mb-2" data-target="evaluation-results">评价结果</div>
                    <div class="nav-item mb-2" data-target="ranking">院校排名</div>
                    <div class="nav-item mb-2" data-target="ai-analysis">AI智能分析</div>
                </div>
            </div>

            <!-- 主内容区域 -->
            <div class="col-md-9 p-6">
                <!-- 学生评价 -->
                <div id="student-evaluation" class="tab-content active">
                    <div class="card mb-6">
                        <div class="card-header">
                            <h2 class="h4 mb-0">学生评价</h2>
                        </div>
                        <div class="card-body">
                            <div class="mb-6">
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label class="form-label">院校名称</label>
                                        <select class="form-select" id="student-college-select">
                                            <option value="1">伯明翰大学</option>
                                            <option value="2">卡迪夫大学</option>
                                            <option value="3">赫瑞瓦特大学</option>
                                            <option value="4">清华大学</option>
                                            <option value="5">北京大学</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">院校类型</label>
                                        <select class="form-select" id="student-college-type">
                                            <option value="foreign">国外院校</option>
                                            <option value="domestic">国内院校</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">专业</label>
                                        <select class="form-select">
                                            <option>数据科学</option>
                                            <option>计算机科学</option>
                                            <option>人工智能</option>
                                            <option>金融科技</option>
                                            <option>电子工程</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- 国内院校评价指标 -->
                            <div id="domestic-evaluation-form" class="mb-6">
                                <h3 class="h5 text-primary-custom mb-3">评价指标</h3>
                                 
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">教学质量</label>
                                            <div class="star-rating" data-rating="0" data-target="teaching-quality">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="teaching-quality" name="teaching-quality" value="0">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">教学环境</label>
                                            <div class="star-rating" data-rating="0" data-target="teaching-environment">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="teaching-environment" name="teaching-environment" value="0">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">住宿环境</label>
                                            <div class="star-rating" data-rating="0" data-target="accommodation">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="accommodation" name="accommodation" value="0">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">食堂餐食</label>
                                            <div class="star-rating" data-rating="0" data-target="dining">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="dining" name="dining" value="0">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 国外院校评价指标 -->
                            <div id="foreign-evaluation-form" class="mb-6 d-none">
                                <h3 class="h5 text-primary-custom mb-3">评价指标</h3>
                                 
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">教学质量</label>
                                            <div class="star-rating" data-rating="0" data-target="foreign-teaching-quality">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="foreign-teaching-quality" name="foreign-teaching-quality" value="0">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">教学环境</label>
                                            <div class="star-rating" data-rating="0" data-target="foreign-teaching-environment">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="foreign-teaching-environment" name="foreign-teaching-environment" value="0">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">住宿环境</label>
                                            <div class="star-rating" data-rating="0" data-target="foreign-accommodation">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="foreign-accommodation" name="foreign-accommodation" value="0">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">食堂餐食</label>
                                            <div class="star-rating" data-rating="0" data-target="foreign-dining">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="foreign-dining" name="foreign-dining" value="0">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">留学申请服务</label>
                                            <div class="star-rating" data-rating="0" data-target="application-service">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="application-service" name="application-service" value="0">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">签证申请服务</label>
                                            <div class="star-rating" data-rating="0" data-target="visa-service">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="visa-service" name="visa-service" value="0">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">服务态度</label>
                                            <div class="star-rating" data-rating="0" data-target="service-attitude">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="service-attitude" name="service-attitude" value="0">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">评价意见</label>
                                <textarea class="form-control" rows="4" placeholder="请输入您的评价意见"></textarea>
                            </div>

                            <button class="btn btn-primary" id="submit-student-evaluation">提交评价</button>
                        </div>
                    </div>
                </div>

                <!-- 管理员评价 -->
                <div id="admin-evaluation" class="tab-content d-none">
                    <div class="card mb-6">
                        <div class="card-header">
                            <h2 class="h4 mb-0">管理员评价</h2>
                        </div>
                        <div class="card-body">
                            <div class="mb-6">
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label class="form-label">院校名称</label>
                                        <select class="form-select" id="admin-college-select">
                                            <option value="1">阿伯丁大学</option>
                                            <option value="2">贝尔法斯特女王大学</option>
                                            <option value="3">斯特拉斯克莱德大学</option>
                                            <option value="4">清华大学</option>
                                            <option value="5">北京大学</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">评价周期</label>
                                        <select class="form-select">
                                            <option>2024-2025学年</option>
                                            <option>2023-2024学年</option>
                                            <option>2022-2023学年</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-6">
                                <h3 class="h5 text-primary-custom mb-3">评价指标</h3>
                                 
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">院校配合度</label>
                                            <div class="star-rating" data-rating="0" data-target="cooperation">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="cooperation" name="cooperation" value="0">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">管理费收取情况</label>
                                            <div class="star-rating" data-rating="0" data-target="management-fee">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="management-fee" name="management-fee" value="0">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">佣金收取情况</label>
                                            <div class="star-rating" data-rating="0" data-target="commission">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="commission" name="commission" value="0">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label d-block">督导情况</label>
                                            <div class="star-rating" data-rating="0" data-target="supervision">
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                                <i class="far fa-star fs-4"></i>
                                            </div>
                                            <input type="hidden" id="supervision" name="supervision" value="0">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">评价意见</label>
                                <textarea class="form-control" rows="4" placeholder="请输入您的评价意见"></textarea>
                            </div>

                            <button class="btn btn-primary" id="submit-admin-evaluation">提交评价</button>
                        </div>
                    </div>
                </div>

                <!-- 评价结果 -->
                <div id="evaluation-results" class="tab-content d-none">
                    <div class="card mb-6">
                        <div class="card-header">
                            <h2 class="h4 mb-0">评价结果</h2>
                        </div>
                        <div class="card-body">
                            <div class="mb-6">
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label class="form-label">院校名称</label>
                                        <select class="form-select" id="results-college-select">
                                            <option value="1">诺丁汉大学</option>
                                            <option value="2">利兹大学</option>
                                            <option value="3">谢菲尔德大学</option>
                                            <option value="4">清华大学</option>
                                            <option value="5">北京大学</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">评价周期</label>
                                        <select class="form-select">
                                            <option>2024-2025学年</option>
                                            <option>2023-2024学年</option>
                                            <option>2022-2023学年</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4 d-flex align-items-end">
                                        <button class="btn btn-primary w-100" id="query-results">查询结果</button>
                                    </div>
                                </div>
                            </div>

                            <div class="card mb-6 bg-primary-light rounded-lg p-4">
                                <h3 class="h5 text-primary-custom mb-3" id="result-college-name">伯明翰大学</h3>
                                <div class="row mb-4">
                                    <div class="col-md-3 text-center">
                                        <div class="text-5xl font-bold text-primary-custom mb-1" id="result-overall-score">4.8</div>
                                        <div class="flex justify-center text-warning mb-2" id="result-star-rating">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <div class="text-sm text-gray-600" id="result-rating-count">基于120条学生评价和5条管理员评价</div>
                                    </div>
                                    <div class="col-md-9">
                                        <div class="row mb-2">
                                            <div class="col-md-4">
                                                <div class="d-flex justify-between mb-1">
                                                    <span class="text-sm">教学质量</span>
                                                    <span class="text-sm font-bold">4.9</span>
                                                </div>
                                                <div class="progress w-full">
                                                    <div class="progress-bar bg-primary-custom" role="progressbar" style="width: 98%" aria-valuenow="4.9" aria-valuemin="0" aria-valuemax="5"></div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="d-flex justify-between mb-1">
                                                    <span class="text-sm">教学环境</span>
                                                    <span class="text-sm font-bold">4.7</span>
                                                </div>
                                                <div class="progress w-full">
                                                    <div class="progress-bar bg-primary-custom" role="progressbar" style="width: 94%" aria-valuenow="4.7" aria-valuemin="0" aria-valuemax="5"></div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="d-flex justify-between mb-1">
                                                    <span class="text-sm">管理评价</span>
                                                    <span class="text-sm font-bold">4.6</span>
                                                </div>
                                                <div class="progress w-full">
                                                    <div class="progress-bar bg-primary-custom" role="progressbar" style="width: 92%" aria-valuenow="4.6" aria-valuemin="0" aria-valuemax="5"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="d-flex justify-between mb-1">
                                                    <span class="text-sm">住宿环境</span>
                                                    <span class="text-sm font-bold">4.8</span>
                                                </div>
                                                <div class="progress w-full">
                                                    <div class="progress-bar bg-primary-custom" role="progressbar" style="width: 96%" aria-valuenow="4.8" aria-valuemin="0" aria-valuemax="5"></div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="d-flex justify-between mb-1">
                                                    <span class="text-sm">食堂餐食</span>
                                                    <span class="text-sm font-bold">4.7</span>
                                                </div>
                                                <div class="progress w-full">
                                                    <div class="progress-bar bg-primary-custom" role="progressbar" style="width: 94%" aria-valuenow="4.7" aria-valuemin="0" aria-valuemax="5"></div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="d-flex justify-between mb-1">
                                                    <span class="text-sm">服务态度</span>
                                                    <span class="text-sm font-bold">4.8</span>
                                                </div>
                                                <div class="progress w-full">
                                                    <div class="progress-bar bg-primary-custom" role="progressbar" style="width: 96%" aria-valuenow="4.8" aria-valuemin="0" aria-valuemax="5"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="card mb-6">
                                <div class="card-header">
                                    <h3 class="h5 mb-0">学生评价详情</h3>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>学生姓名</th>
                                                    <th>专业</th>
                                                    <th>评价时间</th>
                                                    <th>教学质量</th>
                                                    <th>教学环境</th>
                                                    <th>住宿环境</th>
                                                    <th>食堂餐食</th>
                                                    <th>操作</th>
                                                </tr>
                                            </thead>
                                            <tbody id="student-evaluation-details">
                                                <tr>
                                                    <td>张三</td>
                                                    <td>数据科学</td>
                                                    <td>2025-05-20</td>
                                                    <td>5</td>
                                                    <td>4</td>
                                                    <td>5</td>
                                                    <td>4</td>
                                                    <td><button class="btn btn-sm btn-primary">查看详情</button></td>
                                                </tr>
                                                <tr>
                                                    <td>李四</td>
                                                    <td>计算机科学</td>
                                                    <td>2025-05-18</td>
                                                    <td>4</td>
                                                    <td>5</td>
                                                    <td>4</td>
                                                    <td>5</td>
                                                    <td><button class="btn btn-sm btn-primary">查看详情</button></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <div class="card mb-6">
                                <div class="card-header">
                                    <h3 class="h5 mb-0">管理员评价详情</h3>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>管理员姓名</th>
                                                    <th>评价时间</th>
                                                    <th>院校配合度</th>
                                                    <th>管理费收取</th>
                                                    <th>佣金收取</th>
                                                    <th>督导情况</th>
                                                    <th>操作</th>
                                                </tr>
                                            </thead>
                                            <tbody id="admin-evaluation-details">
                                                <tr>
                                                    <td>王五</td>
                                                    <td>2025-05-15</td>
                                                    <td>5</td>
                                                    <td>4</td>
                                                    <td>5</td>
                                                    <td>4</td>
                                                    <td><button class="btn btn-sm btn-primary">查看详情</button></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 院校排名 -->
                <div id="ranking" class="tab-content d-none">
                    <div class="card mb-6">
                        <div class="card-header">
                            <h2 class="h4 mb-0">院校排名</h2>
                        </div>
                        <div class="card-body">
                            <div class="mb-6">
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label class="form-label">排名类型</label>
                                        <select class="form-select" id="ranking-type">
                                            <option value="overall">综合排名</option>
                                            <option value="teaching">教学质量排名</option>
                                            <option value="environment">环境排名</option>
                                            <option value="service">服务排名</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">院校类型</label>
                                        <select class="form-select" id="ranking-college-type">
                                            <option value="all">全部院校</option>
                                            <option value="foreign">国外院校</option>
                                            <option value="domestic">国内院校</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4 d-flex align-items-end">
                                        <button class="btn btn-primary w-100" id="query-ranking">查询排名</button>
                                    </div>
                                </div>
                            </div>

                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>排名</th>
                                            <th>院校名称</th>
                                            <th>综合评分</th>
                                            <th>教学质量</th>
                                            <th>教学环境</th>
                                            <th>管理评价</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody id="ranking-table-body">
                                        <tr>
                                            <td>1</td>
                                            <td>利物浦大学</td>
                                            <td>4.8</td>
                                            <td>4.9</td>
                                            <td>4.7</td>
                                            <td>4.6</td>
                                            <td><button class="btn btn-sm btn-primary">查看详情</button></td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td>清华大学</td>
                                            <td>4.7</td>
                                            <td>4.8</td>
                                            <td>4.6</td>
                                            <td>4.7</td>
                                            <td><button class="btn btn-sm btn-primary">查看详情</button></td>
                                        </tr>
                                        <tr>
                                            <td>3</td>
                                            <td>南安普顿大学</td>
                                            <td>4.6</td>
                                            <td>4.7</td>
                                            <td>4.5</td>
                                            <td>4.5</td>
                                            <td><button class="btn btn-sm btn-primary">查看详情</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI智能分析 -->
                <div id="ai-analysis" class="tab-content d-none">
                    <div class="card mb-6">
                        <div class="card-header">
                            <h2 class="h4 mb-0">AI智能分析</h2>
                        </div>
                        <div class="card-body">
                            <!-- 院校匹配推荐 -->
                            <div class="analysis-panel">
                                <h3 class="h5 text-primary-custom mb-3"><i class="fas fa-robot me-2"></i>智能院校推荐</h3>
                                <div class="row g-3 mb-4">
                                    <div class="col-md-4">
                                        <label class="form-label">专业方向</label>
                                        <select class="form-select" id="ai-major">
                                            <option value="data-science">数据科学</option>
                                            <option value="computer-science">计算机科学</option>
                                            <option value="ai">人工智能</option>
                                            <option value="fintech">金融科技</option>
                                            <option value="engineering">工程学</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">预算范围</label>
                                        <select class="form-select" id="ai-budget">
                                            <option value="low">20万以下</option>
                                            <option value="medium">20-40万</option>
                                            <option value="high">40万以上</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">地区偏好</label>
                                        <select class="form-select" id="ai-region">
                                            <option value="uk">英国</option>
                                            <option value="us">美国</option>
                                            <option value="china">中国</option>
                                            <option value="australia">澳洲</option>
                                        </select>
                                    </div>
                                </div>
                                <button class="btn btn-primary" id="ai-recommend">获取AI推荐</button>
                                
                                <div id="ai-recommendations" class="mt-4" style="display: none;">
                                    <h4 class="h6 text-primary-custom mb-3">推荐结果</h4>
                                    <div class="recommendation-card">
                                        <div class="d-flex justify-content-between align-items-center mb-2">
                                            <h5 class="mb-0">伯明翰大学</h5>
                                            <span class="badge bg-success">匹配度: 95%</span>
                                        </div>
                                        <p class="mb-2">推荐理由：该校数据科学专业排名英国前5，师资力量雄厚，就业率高达92%</p>
                                        <div class="row">
                                            <div class="col-6"><small>学费: £25,000/年</small></div>
                                            <div class="col-6"><small>综合评分: 4.8/5.0</small></div>
                                        </div>
                                    </div>
                                    <div class="recommendation-card">
                                        <div class="d-flex justify-content-between align-items-center mb-2">
                                            <h5 class="mb-0">卡迪夫大学</h5>
                                            <span class="badge bg-info">匹配度: 88%</span>
                                        </div>
                                        <p class="mb-2">推荐理由：性价比高，地理位置优越，国际学生支持服务完善</p>
                                        <div class="row">
                                            <div class="col-6"><small>学费: £22,000/年</small></div>
                                            <div class="col-6"><small>综合评分: 4.6/5.0</small></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 评价数据分析 -->
                            <div class="analysis-panel">
                                <h3 class="h5 text-primary-custom mb-3"><i class="fas fa-chart-line me-2"></i>评价数据分析</h3>
                                <div class="row g-3 mb-4">
                                    <div class="col-md-6">
                                        <label class="form-label">选择院校</label>
                                        <select class="form-select" id="analysis-college">
                                            <option value="birmingham">伯明翰大学</option>
                                            <option value="cardiff">卡迪夫大学</option>
                                            <option value="tsinghua">清华大学</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 d-flex align-items-end">
                                        <button class="btn btn-primary w-100" id="generate-analysis">生成分析报告</button>
                                    </div>
                                </div>
                                
                                <div id="analysis-results" class="mt-4" style="display: none;">
                                    <div class="college-stats">
                                        <h4 class="h6 mb-3">伯明翰大学 - AI分析报告</h4>
                                        <div class="row">
                                            <div class="col-md-3 text-center">
                                                <div class="h3 mb-1">4.8</div>
                                                <small>综合评分</small>
                                            </div>
                                            <div class="col-md-3 text-center">
                                                <div class="h3 mb-1">156</div>
                                                <small>评价总数</small>
                                            </div>
                                            <div class="col-md-3 text-center">
                                                <div class="h3 mb-1">92%</div>
                                                <small>推荐率</small>
                                            </div>
                                            <div class="col-md-3 text-center">
                                                <div class="h3 mb-1">↑15%</div>
                                                <small>评分趋势</small>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="insight-card">
                                        <h5 class="text-primary-custom mb-2">AI洞察分析</h5>
                                        <ul class="mb-0">
                                            <li>教学质量持续提升，近6个月评分上涨0.3分</li>
                                            <li>住宿环境获得学生高度认可，满意度达96%</li>
                                            <li>国际学生服务质量优秀，签证通过率100%</li>
                                            <li>建议关注：食堂餐食评分略有下降，需要改进</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="insight-card">
                                        <h5 class="text-primary-custom mb-2">学生反馈热词</h5>
                                        <div class="d-flex flex-wrap gap-2">
                                            <span class="badge bg-primary">教学优秀</span>
                                            <span class="badge bg-success">环境舒适</span>
                                            <span class="badge bg-info">服务贴心</span>
                                            <span class="badge bg-warning">性价比高</span>
                                            <span class="badge bg-secondary">就业率高</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 趋势预测 -->
                            <div class="analysis-panel">
                                <h3 class="h5 text-primary-custom mb-3"><i class="fas fa-crystal-ball me-2"></i>趋势预测</h3>
                                <div class="insight-card">
                                    <h5 class="text-primary-custom mb-2">2024年院校评价趋势预测</h5>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6>上升趋势院校</h6>
                                            <ul>
                                                <li>伯明翰大学 - 预计评分上升至4.9</li>
                                                <li>清华大学 - 预计评分上升至4.8</li>
                                                <li>南安普顿大学 - 预计评分上升至4.7</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h6>关注要点</h6>
                                            <ul>
                                                <li>教学质量成为最重要评价指标</li>
                                                <li>国际学生服务需求持续增长</li>
                                                <li>性价比成为选校关键因素</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI助手 -->
    <button class="ai-toggle-btn" id="ai-toggle">
        <i class="fas fa-robot"></i>
    </button>
    
    <div class="ai-assistant-container ai-assistant-hidden" id="ai-assistant">
        <div class="ai-assistant-header">
            <div>
                <i class="fas fa-robot me-2"></i>
                <strong>AI助手</strong>
            </div>
            <button class="btn btn-sm" id="ai-close" style="color: white;">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="ai-assistant-body" id="ai-chat-body">
            <div class="ai-message assistant">
                <i class="fas fa-robot me-2"></i>
                您好！我是院校评价AI助手，可以帮您：<br>
                • 分析院校评价数据<br>
                • 推荐合适的院校<br>
                • 解答评价相关问题<br>
                请问有什么可以帮助您的吗？
            </div>
        </div>
        <div class="ai-input-area">
            <input type="text" class="ai-input" id="ai-input" placeholder="输入您的问题...">
            <button class="ai-send-btn" id="ai-send">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 导航切换功能
        document.addEventListener('DOMContentLoaded', function() {
            // 确保DOM加载完成后再执行
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    // 移除所有active类
                    document.querySelectorAll('.nav-item').forEach(navItem => {
                        navItem.classList.remove('active');
                    });
                    document.querySelectorAll('.tab-content').forEach(tab => {
                        tab.classList.add('d-none');
                        tab.classList.remove('active');
                    });

                    // 添加active类到当前点击项
                    this.classList.add('active');
                    const target = this.getAttribute('data-target');
                    const targetTab = document.getElementById(target);
                    if (targetTab) {
                        targetTab.classList.remove('d-none');
                        targetTab.classList.add('active');
                    }
                });
            });

            // 星级评分功能
            document.querySelectorAll('.star-rating').forEach(rating => {
                const stars = rating.querySelectorAll('i');
                const targetId = rating.getAttribute('data-target');
                const hiddenInput = document.getElementById(targetId);

                stars.forEach((star, index) => {
                    star.addEventListener('mouseover', function() {
                        // 鼠标悬停时点亮星星
                        for (let i = 0; i <= index; i++) {
                            stars[i].classList.remove('far');
                            stars[i].classList.add('fas');
                        }
                        for (let i = index + 1; i < stars.length; i++) {
                            stars[i].classList.remove('fas');
                            stars[i].classList.add('far');
                        }
                    });

                    star.addEventListener('mouseout', function() {
                        // 鼠标移出时恢复当前评分
                        const currentRating = parseInt(rating.getAttribute('data-rating'));
                        for (let i = 0; i < currentRating; i++) {
                            stars[i].classList.remove('far');
                            stars[i].classList.add('fas');
                        }
                        for (let i = currentRating; i < stars.length; i++) {
                            stars[i].classList.remove('fas');
                            stars[i].classList.add('far');
                        }
                    });

                    star.addEventListener('click', function() {
                        // 点击时设置评分
                        const newRating = index + 1;
                        rating.setAttribute('data-rating', newRating);
                        hiddenInput.value = newRating;
                        for (let i = 0; i <= index; i++) {
                            stars[i].classList.remove('far');
                            stars[i].classList.add('fas');
                        }
                        for (let i = index + 1; i < stars.length; i++) {
                            stars[i].classList.remove('fas');
                            stars[i].classList.add('far');
                        }
                    });
                });
            });

            // 院校类型切换（学生评价）
            const collegeTypeSelect = document.getElementById('student-college-type');
            const domesticForm = document.getElementById('domestic-evaluation-form');
            const foreignForm = document.getElementById('foreign-evaluation-form');

            collegeTypeSelect.addEventListener('change', function() {
                if (this.value === 'domestic') {
                    domesticForm.classList.remove('d-none');
                    foreignForm.classList.add('d-none');
                } else {
                    domesticForm.classList.add('d-none');
                    foreignForm.classList.remove('d-none');
                }
            });

            // 提交评价按钮事件
            document.getElementById('submit-student-evaluation').addEventListener('click', function() {
                alert('学生评价提交成功！');
            });

            document.getElementById('submit-admin-evaluation').addEventListener('click', function() {
                alert('管理员评价提交成功！');
            });

            // 查询结果按钮事件
            document.getElementById('query-results').addEventListener('click', function() {
                const collegeSelect = document.getElementById('results-college-select');
                const collegeName = collegeSelect.options[collegeSelect.selectedIndex].text;
                document.getElementById('result-college-name').textContent = collegeName;
                alert('查询成功，显示 ' + collegeName + ' 的评价结果');
            });

            // 查询排名按钮事件
            document.getElementById('query-ranking').addEventListener('click', function() {
                const rankingType = document.getElementById('ranking-type');
                const collegeType = document.getElementById('ranking-college-type');
                const rankingTypeName = rankingType.options[rankingType.selectedIndex].text;
                const collegeTypeName = collegeType.options[collegeType.selectedIndex].text;
                alert('查询成功，显示 ' + collegeTypeName + ' 的 ' + rankingTypeName);
            });

            // AI推荐按钮事件
            document.getElementById('ai-recommend').addEventListener('click', function() {
                const major = document.getElementById('ai-major').value;
                const budget = document.getElementById('ai-budget').value;
                const region = document.getElementById('ai-region').value;
                
                // 显示推荐结果
                document.getElementById('ai-recommendations').style.display = 'block';
                alert('AI推荐完成！根据您的' + major + '专业需求生成了个性化推荐');
            });

            // 生成分析报告按钮事件
            document.getElementById('generate-analysis').addEventListener('click', function() {
                const college = document.getElementById('analysis-college');
                const collegeName = college.options[college.selectedIndex].text;
                
                // 显示分析结果
                document.getElementById('analysis-results').style.display = 'block';
                alert('AI分析报告生成完成！' + collegeName + '的详细分析已展示');
            });

            // AI助手功能
            const aiToggle = document.getElementById('ai-toggle');
            const aiAssistant = document.getElementById('ai-assistant');
            const aiClose = document.getElementById('ai-close');
            const aiInput = document.getElementById('ai-input');
            const aiSend = document.getElementById('ai-send');
            const aiChatBody = document.getElementById('ai-chat-body');

            // 切换AI助手显示/隐藏
            aiToggle.addEventListener('click', function() {
                aiAssistant.classList.toggle('ai-assistant-hidden');
                if (!aiAssistant.classList.contains('ai-assistant-hidden')) {
                    aiToggle.style.display = 'none';
                }
            });

            aiClose.addEventListener('click', function() {
                aiAssistant.classList.add('ai-assistant-hidden');
                aiToggle.style.display = 'block';
            });

            // 发送消息功能
            function sendMessage() {
                const message = aiInput.value.trim();
                if (!message) return;

                // 添加用户消息
                const userMessage = document.createElement('div');
                userMessage.className = 'ai-message user';
                userMessage.textContent = message;
                aiChatBody.appendChild(userMessage);

                // 清空输入框
                aiInput.value = '';

                // 显示加载状态
                const loadingMessage = document.createElement('div');
                loadingMessage.className = 'ai-message assistant loading-dots';
                loadingMessage.innerHTML = '<i class="fas fa-robot me-2"></i>AI正在思考中';
                aiChatBody.appendChild(loadingMessage);

                // 滚动到底部
                aiChatBody.scrollTop = aiChatBody.scrollHeight;

                // 模拟AI回复
                setTimeout(() => {
                    aiChatBody.removeChild(loadingMessage);
                    
                    const aiResponse = document.createElement('div');
                    aiResponse.className = 'ai-message assistant';
                    
                    // 根据用户输入生成不同回复
                    let response = '';
                    if (message.includes('推荐') || message.includes('院校')) {
                        response = '<i class="fas fa-robot me-2"></i>根据您的需求，我推荐伯明翰大学和卡迪夫大学。这两所学校在您关注的专业领域表现优秀，评价很高。需要我提供更详细的对比分析吗？';
                    } else if (message.includes('评分') || message.includes('评价')) {
                        response = '<i class="fas fa-robot me-2"></i>从最新的评价数据来看，伯明翰大学综合评分4.8分，其中教学质量4.9分表现突出。学生普遍反映教学水平高，就业前景好。';
                    } else if (message.includes('申请') || message.includes('要求')) {
                        response = '<i class="fas fa-robot me-2"></i>申请要求因院校而异，一般需要：学术成绩、语言成绩、个人陈述等。我可以根据您的具体情况提供个性化的申请建议。';
                    } else {
                        response = '<i class="fas fa-robot me-2"></i>感谢您的提问！我正在分析相关数据为您提供最准确的建议。如果您有具体的院校选择或评价问题，我可以提供更详细的帮助。';
                    }
                    
                    aiResponse.innerHTML = response;
                    aiChatBody.appendChild(aiResponse);
                    
                    // 滚动到底部
                    aiChatBody.scrollTop = aiChatBody.scrollHeight;
                }, 1500);
            }

            aiSend.addEventListener('click', sendMessage);
            aiInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        });
    </script>
</body>
</html>